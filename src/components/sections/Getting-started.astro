---
import type { Translation } from "../../i18n";

import { MuxPlayer } from "@mux/mux-player-astro";

interface Props {
  t: Translation["gettingStarted"];
}

const { t } = Astro.props as Props;
---

<section id="getting-started" class="scroll-mt-24 px-6 md:px-12">
  <div class="mx-auto max-w-2xl text-center">
    <h2 class="text-4xl font-bold tracking-tight text-white sm:text-5xl">
      {t.title}
    </h2>
    <p class="mt-6 text-lg leading-8 text-white/70">{t.description}</p>
  </div>

  <div class="mx-auto mt-12 max-w-[1080px]">
    <div
      class="grid gap-10 md:grid-cols-[minmax(0,0.45fr)_minmax(0,0.55fr)] md:items-start"
    >
      <div
        class="mx-auto flex w-full max-w-[320px] flex-col items-center gap-5 md:max-w-[340px]"
      >
        <div class="relative w-full">
          <div
            class="absolute inset-0 rounded-[32px] bg-primary/5 blur-3xl opacity-70"
          >
          </div>
          <div
            class="relative rounded-[28px] border border-white/12 bg-[#0C1014]/85 p-1 shadow-[0_20px_60px_rgba(12,16,20,0.45)]"
          >

            <div class="overflow-hidden rounded-[18px] m-1">
                <MuxPlayer
                  playbackId="g01WjWjboePBKINVnsPi825x702grlsEZIXNYRTQ5vWQg"
                  thumbnailTime={1},
                  muted={true},
                  loop={true}
                  metadata={{
                    video_title: 'Vallax, how to start',
                  }}
                  style={{
                    borderRadius: "inherit"
                  }}
                  primaryColor="#07d9c4"

                />

            </div>
          </div>
        </div>
      </div>
      <div>
        <ol class="relative mt-9 space-y-12 pl-16">
          <span
            class="about-line pointer-events-none absolute -left-[1px] top-0 h-full w-[2px] overflow-hidden"
            aria-hidden="true"></span>
          {
            t.steps.map((step, index) => (
              <li class="relative">
                <span class="absolute -left-[40px] top-0 flex h-9 w-9 items-center justify-center rounded-full border border-primary/35 bg-[#0C1014] text-xs font-semibold text-primary">
                  {String(index + 1).padStart(2, "0")}
                </span>

                <div class="pl-2 space-y-2 text-left">
                  <h3 class="text-lg font-semibold text-white">{step.title}</h3>
                  <p class="text-sm leading-6 text-white/65 md:text-base md:leading-7">
                    {step.description}
                  </p>

                  {step.ctaLabel && (
                    <a
                      onclick="trackClick('about-open-bot')"
                      href="https://t.me/vallaxbot?start=about_step"
                      target="_blank"
                      rel="noreferrer"
                      class="inline-flex items-center gap-2 text-[11px] font-semibold uppercase tracking-[0.24em] text-primary transition-colors hover:text-primary/80"
                    >
                      <span class="h-1.5 w-1.5 rounded-full bg-primary" />
                      {step.ctaLabel}
                    </a>
                  )}
                </div>
              </li>
            ))
          }
        </ol>
      </div>
    </div>
  </div>
</section>
